<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>gghdx • gghdx</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="gghdx">
<meta property="og:description" content="gghdx">
<meta property="og:image" content="/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gghdx</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/gghdx.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/OCHA-DAP/gghdx/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>gghdx</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/OCHA-DAP/gghdx/blob/HEAD/vignettes/gghdx.Rmd" class="external-link"><code>vignettes/gghdx.Rmd</code></a></small>
      <div class="hidden name"><code>gghdx.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="using-the-package">Using the package<a class="anchor" aria-label="anchor" href="#using-the-package"></a>
</h2>
<p>The package is designed so the user just has to run
<code><a href="../reference/gghdx.html">gghdx()</a></code> once a session and mainly forget about it. This
will automatically set your ggplot2 to use the HDX theme, palettes,
fonts, and more by default. If you want more control or want to better
understand how the package works, please see the details below!</p>
<div class="section level3">
<h3 id="theme">Theme<a class="anchor" aria-label="anchor" href="#theme"></a>
</h3>
<p>A quick and simple example would be plotting the <code>iris</code>
dataset included in base R.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span></span>
<span>  <span class="va">iris</span>,</span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="va">Sepal.Length</span>,</span>
<span>    y <span class="op">=</span> <span class="va">Petal.Length</span>,</span>
<span>    color <span class="op">=</span> <span class="va">Species</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Iris species distributed by sepal and petal lengths"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Petal length"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Sepal length"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">p</span></span></code></pre></div>
<p><img src="gghdx_files/figure-html/intro-plot-1.png" width="90%" height="10%" style="display: block; margin: auto;"></p>
<p>This output using the base ggplot style doesn’t look particularly
bad, but we can use <code><a href="../reference/theme_hdx.html">theme_hdx()</a></code> to quickly adjust some of
the styling to fit the style guide.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/OCHA-DAP/gghdx" class="external-link">gghdx</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="../reference/theme_hdx.html">theme_hdx</a></span><span class="op">(</span>base_family <span class="op">=</span> <span class="st">"sans"</span><span class="op">)</span></span></code></pre></div>
<p><img src="gghdx_files/figure-html/intro-hdx-1.png" width="90%" height="10%" style="display: block; margin: auto;"></p>
<p>Now, axis lines have been cleaned up and the plot better resembles
recommendations from the visual guide with just that single line of
code.</p>
</div>
<div class="section level3">
<h3 id="color-palettes">Color palettes<a class="anchor" aria-label="anchor" href="#color-palettes"></a>
</h3>
<p>However, the color palette for the points is still using the base R
palette. We can use one of the many <code>scale_...hdx()</code>
functions to use HDX colors. Let’s just use the primary discrete color
scale that will align each species with one of the 3 non-gray colorramps
(sapphire, mint, and tomato).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="../reference/theme_hdx.html">theme_hdx</a></span><span class="op">(</span>base_family <span class="op">=</span> <span class="st">"sans"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="../reference/scale_hdx.html">scale_color_hdx_discrete</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="gghdx_files/figure-html/intro-ramp-1.png" width="90%" height="10%" style="display: block; margin: auto;"></p>
<p>You can check the documentation of any of the
<code>scale_...hdx()</code> functions to see all available scales, or
directly access the colors using <code><a href="../reference/hdx_color.html">hdx_colors()</a></code> or the raw
list in <code>hdx_color_list</code>. The available palettes can be
easily visualized using <code><a href="../reference/hdx_display_pal.html">hdx_display_pal()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="adding-fonts">Adding fonts<a class="anchor" aria-label="anchor" href="#adding-fonts"></a>
</h3>
<p>We also would like to use the HDX font family. Since Source Sans 3 is
a free Google font, it makes it relatively easy to access in R. gghdx
uses the <a href="https://CRAN.R-project.org/package=sysfonts" class="external-link">sysfonts</a> package
to load the Google font and then <a href="https://CRAN.R-project.org/package=showtext" class="external-link">showtext</a> to
include them in our plot. You can also use the <a href="https://CRAN.R-project.org/package=extrafont" class="external-link">extrafont</a>
package as an alternative if you have the font installed locally. This
requires ghostscript to be installed locally and can run into other
issues, such as <a href="https://github.com/wch/extrafont/issues/32" class="external-link">font names</a> not
being found.</p>
<p>Below, I use the showtext package because it’s simpler.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/yixuan/showtext" class="external-link">showtext</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: sysfonts</span></span>
<span><span class="co">#&gt; Loading required package: showtextdb</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/sysfonts/man/font_add_google.html" class="external-link">font_add_google</a></span><span class="op">(</span><span class="st">"Source Sans 3"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/showtext/man/showtext_auto.html" class="external-link">showtext_auto</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="../reference/theme_hdx.html">theme_hdx</a></span><span class="op">(</span>base_family <span class="op">=</span> <span class="st">"Source Sans 3"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="../reference/scale_hdx.html">scale_color_hdx_discrete</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="gghdx_files/figure-html/extrafont-1.png" width="90%" height="10%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="streamlined-plotting">Streamlined plotting<a class="anchor" aria-label="anchor" href="#streamlined-plotting"></a>
</h3>
<p>As clear above, even though we have an HDX theme function, we still
have to separately call the scale function to adjust our colors. And we
have to call these every time we make a new plot. So, to make life
simpler, <code><a href="../reference/gghdx.html">gghdx()</a></code> is provided as a convenience function that
sets ggplot to:</p>
<ul>
<li>automatically use the HDX theme by default;</li>
<li>use default HDX sapphire for point and line colors and and HDX mint
for fill when not an aesthetic;</li>
<li>use <code><a href="../reference/scale_hdx.html">scale_fill_hdx_discrete()</a></code> and
<code><a href="../reference/scale_hdx.html">scale_color_hdx_discrete()</a></code> as the default discrete fill and
color respectively;</li>
<li>use <code><a href="../reference/scale_hdx.html">scale_fill_gradient_hdx_mint()</a></code> and
<code><a href="../reference/scale_hdx.html">scale_color_gradient_hdx_sapphire()</a></code> as the default
continuous fill and color;</li>
<li>loads the Source Sans 3 font from Google and activates its usage for
the current session.</li>
</ul>
<p>You just have to run <code><a href="../reference/gghdx.html">gghdx()</a></code> once a session, and then
our plots will already be where we would like!</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gghdx.html">gghdx</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="va">p</span></span></code></pre></div>
<p><img src="gghdx_files/figure-html/gghdx-1.png" width="90%" height="10%" style="display: block; margin: auto;"></p>
<p>And voíla, we have our graph without specifying the theme or color
scale.</p>
</div>
<div class="section level3">
<h3 id="covid-plots">COVID plots<a class="anchor" aria-label="anchor" href="#covid-plots"></a>
</h3>
<p>As a final example, we can closely match the COVID plots referenced
in the visual guide using the theme and color scales in the package.</p>
<p><img src="../reference/figures/covid_blue.png" width="45%" height="20%"><img src="../reference/figures/covid_red.png" width="45%" height="20%"></p>
<p>The inbuilt data <code><a href="../reference/df_covid.html">gghdx::df_covid</a></code> has aggregated COVID
data we can use to mirror this plot. To make the data start at the
y-axis, we can use <code><a href="../reference/scale_y_hdx.html">scale_y_continuous_hdx()</a></code> which sets
<code>expand = c(0, 0)</code> by default.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_blue</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span></span>
<span>  <span class="va">df_covid</span>,</span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="va">date</span>,</span>
<span>    y <span class="op">=</span> <span class="va">cases_monthly</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span></span>
<span>    stat <span class="op">=</span> <span class="st">"identity"</span>,</span>
<span>    width <span class="op">=</span> <span class="fl">6</span>,</span>
<span>    fill <span class="op">=</span> <span class="fu"><a href="../reference/hdx_color.html">hdx_hex</a></span><span class="op">(</span><span class="st">"sapphire-hdx"</span><span class="op">)</span> <span class="co"># use sapphire for fill</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/scale_y_hdx.html">scale_y_continuous_hdx</a></span><span class="op">(</span></span>
<span>    labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/label_number.html" class="external-link">label_number</a></span><span class="op">(</span></span>
<span>      accuracy <span class="op">=</span> <span class="fl">1</span>,</span>
<span>      scale <span class="op">=</span> <span class="fl">1</span> <span class="op">/</span> <span class="fl">1000000</span>,</span>
<span>      suffix <span class="op">=</span> <span class="st">"M"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span></span>
<span>    date_breaks <span class="op">=</span> <span class="st">"1 month"</span>,</span>
<span>    labels <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">toupper</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strptime.html" class="external-link">strftime</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"%b"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Monthly global COVID-19 confirmed cases in 2020"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"DATA | JUL 2022 | World Health Organization"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">""</span>,</span>
<span>    y <span class="op">=</span> <span class="st">""</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">p_blue</span></span>
<span></span>
<span><span class="co"># create red plot</span></span>
<span><span class="va">p_blue</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span></span>
<span>      fill <span class="op">=</span> <span class="va">flag</span></span>
<span>    <span class="op">)</span>,</span>
<span>    width <span class="op">=</span> <span class="fl">6</span>,</span>
<span>    stat <span class="op">=</span> <span class="st">"identity"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/scale_hdx.html">scale_fill_hdx_tomato</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    legend.position <span class="op">=</span> <span class="st">"none"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Monthly COVID-19 # of cases surpasses 8 million"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="gghdx_files/figure-html/covid-match-1.png" width="45%"><img src="gghdx_files/figure-html/covid-match-2.png" width="45%"></p>
<p>We’ve used relatively few lines of code to match fairly closely these
examples plots!</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Seth Caldwell.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
